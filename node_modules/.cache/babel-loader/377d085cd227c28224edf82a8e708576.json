{"ast":null,"code":"var _jsxFileName = \"/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/src/components/User/getUsers/getUsers.js\";\n\n/**\n * Filename: principal.js\n * Author: kristalduran97@gmail.com\n * Date: 15/12/2019\n * Description: Principal\n */\nimport React from 'react';\nimport './styles.scss'; // import { Link } from 'react-router-dom';\n\nimport Header from '../../Header/index';\nimport Footer from '../../Footer/index';\nimport Menu from '../../Menu/index';\nimport AddUser from '../addUser/index';\nimport addImg from '../../../assets/img/add.png';\nimport { Button } from 'semantic-ui-react';\nimport { getUsers, getUser } from '../../../API/api-calls';\n\nclass GetUsers extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      users: [],\n      edit: false,\n      newUser: false,\n      user: this.props.location.state.user,\n      cantEdit: false\n    };\n  }\n\n  componentDidMount() {\n    this.onGetUsers();\n\n    if (this.state.user.Rol === 'Administrador') {\n      this.setState({\n        cantEdit: true\n      });\n    }\n  }\n\n  onGetUsers() {\n    getUsers(response => {\n      if (response.data) {\n        console.log(response.data.content);\n        this.setState({\n          users: response.data.content\n        });\n      }\n    }, error => {//TODO\n    });\n  }\n\n  onClick(userInfo) {\n    console.log(userInfo.ID_usuario);\n    getUser(userInfo.ID_usuario, response => {\n      if (response.data.content) {\n        this.setState({\n          edit: true,\n          userInfo: response.data.content[0]\n        });\n      }\n    }, error => {//TODO\n    });\n  }\n\n  onNewUser() {\n    this.setState({\n      edit: false,\n      newUser: true\n    });\n  }\n\n  onBack() {\n    this.onGetUsers();\n    this.setState({\n      edit: false,\n      userInfo: {}\n    });\n  }\n\n  render() {\n    return this.state.edit || this.state.newUser ? React.createElement(AddUser, {\n      onBack: this.onBack.bind(this),\n      userLogged: this.state.user,\n      user: this.state.userInfo,\n      newUser: this.state.newUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 77\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"users\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      events: false,\n      users: true,\n      user: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80\n      },\n      __self: this\n    }), React.createElement(Header, {\n      user: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 81\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"users__info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"users__info__titule\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }, \"Usuarios actuales\"), React.createElement(Button, {\n      className: \"users__info__img\",\n      onClick: this.onNewUser.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      src: addImg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84\n      },\n      __self: this\n    })), this.state.users.map(items => React.createElement(\"div\", {\n      className: \"users__info__data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"users__info__data__name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, items.Nombre), React.createElement(\"p\", {\n      className: \"users__info__data__rol\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }, items.Rol), this.state.cantEdit ? React.createElement(Button, {\n      className: \"users__info__data__edit\",\n      onClick: this.onClick.bind(this, items),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, \"Editar\") : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"users__info__data__line\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93\n      },\n      __self: this\n    })))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default GetUsers;","map":{"version":3,"sources":["/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/src/components/User/getUsers/getUsers.js"],"names":["React","Header","Footer","Menu","AddUser","addImg","Button","getUsers","getUser","GetUsers","Component","constructor","props","state","users","edit","newUser","user","location","cantEdit","componentDidMount","onGetUsers","Rol","setState","response","data","console","log","content","error","onClick","userInfo","ID_usuario","onNewUser","onBack","render","bind","map","items","Nombre"],"mappings":"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","sourcesContent":["/**\n * Filename: principal.js\n * Author: kristalduran97@gmail.com\n * Date: 15/12/2019\n * Description: Principal\n */\nimport React from 'react';\nimport './styles.scss';\n// import { Link } from 'react-router-dom';\nimport Header from '../../Header/index';\nimport Footer from '../../Footer/index';\nimport Menu from '../../Menu/index';\nimport AddUser from '../addUser/index';\nimport addImg from '../../../assets/img/add.png';\nimport { Button } from 'semantic-ui-react';\nimport { getUsers, getUser } from '../../../API/api-calls';\n\nclass GetUsers extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      users:[],\n      edit:false,\n      newUser:false,\n      user:this.props.location.state.user,\n      cantEdit:false\n    }\n  }\n\n  componentDidMount() {\n    this.onGetUsers();\n    if (this.state.user.Rol === 'Administrador') {\n      this.setState({cantEdit:true})\n    }\n  }\n\n  onGetUsers(){\n    getUsers(\n      response => {\n        if (response.data) {\n          console.log(response.data.content);\n          this.setState({users:response.data.content});\n        }\n      },\n      error => {\n        //TODO\n      }\n    )\n  }\n\n  onClick(userInfo){\n    console.log(userInfo.ID_usuario)\n    getUser(userInfo.ID_usuario,\n      response => {\n        if (response.data.content) {\n          this.setState({edit:true, userInfo:response.data.content[0]});\n        }\n      },\n      error => {\n        //TODO\n      }\n    );\n  }\n\n  onNewUser() {\n    this.setState({edit:false, newUser:true});\n  }\n\n  onBack(){\n    this.onGetUsers();\n    this.setState({edit:false, userInfo:{}});\n  }\n\n  render() {\n    return (\n      this.state.edit || this.state.newUser ? (\n        <AddUser onBack={this.onBack.bind(this)} userLogged={this.state.user} user={this.state.userInfo} newUser={this.state.newUser}></AddUser>\n      ) : (\n        <div className=\"users\">\n        <Menu events={false} users={true} user={this.state.user}/>\n        <Header user={this.state.user}/>\n        <div className=\"users__info\">\n          <p className='users__info__titule'>Usuarios actuales</p>\n          <Button className='users__info__img' onClick={this.onNewUser.bind(this)}><img src={addImg}/>\n          </Button>\n          {this.state.users.map( (items) => (\n            <div className='users__info__data'>\n              <p className='users__info__data__name'>{items.Nombre}</p>\n              <p className='users__info__data__rol'>{items.Rol}</p>\n              {this.state.cantEdit ?\n              (<Button className='users__info__data__edit' onClick={this.onClick.bind(this, items)}>Editar</Button>)\n              :(<div></div>)}\n              <div className='users__info__data__line'></div>\n            </div>\n          ))}\n        </div>\n        <Footer/>\n        </div>\n      )\n    )\n  }\n}\n\nexport default GetUsers;"]},"metadata":{},"sourceType":"module"}