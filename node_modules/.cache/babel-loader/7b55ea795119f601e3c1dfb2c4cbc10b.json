{"ast":null,"code":"var _jsxFileName = \"/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/src/components/EditEvent/EditEvent.js\";\n\n/**\n * Filename: HomePage.js\n * Author: email\n * Date: \n * Description: Home page component \n */\nimport React from 'react';\nimport './styles.scss';\nimport { Button } from 'semantic-ui-react';\nimport addImg from './../../assets/img/add.png';\nimport Event from '../Event/index';\nimport Footer from '../Footer/index';\nimport Header from '../Header/index';\nimport EventSelected from '../EventSelected/index';\nimport { getEvents, getEvent } from '../../API/api-calls';\nimport PublicEvents from '../PublicEvents/index';\nimport Menu from '../Menu/index';\n\nclass EditEvent extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      events: [],\n      event: null,\n      user: this.props.location.state.user,\n      asisten: false\n    };\n  }\n\n  componentDidMount() {\n    this.onGetEvents();\n\n    if (this.state.user.Rol === 'Administrador') {\n      this.setState({\n        canEdit: true\n      });\n    }\n\n    if (this.state.user.Rol === 'Asistente') {\n      this.setState({\n        asisten: true\n      });\n    }\n  }\n\n  onSelect(data) {\n    if (data !== null) {\n      getEvent(data.ID_evento, response => {\n        if (response.data) {\n          this.setState({\n            event: response.data.content[0]\n          });\n        }\n      }, error => {//TODO\n      });\n    }\n  }\n\n  onGetEvents() {\n    getEvents(response => {\n      if (response.data) {\n        this.setState({\n          events: response.data.content\n        });\n      }\n    }, error => {//TODO\n    });\n  }\n\n  onEditEvent(data) {\n    this.setState({\n      edit: true,\n      eventEdit: data\n    });\n  }\n\n  onClick() {\n    this.setState({\n      edit: true\n    });\n  }\n\n  render() {\n    return this.state.event ? React.createElement(EventSelected, {\n      event: this.state.event,\n      user: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 83\n      },\n      __self: this\n    }) : this.state.edit ? React.createElement(PublicEvents, {\n      event: this.state.eventEdit,\n      user: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"eventsEdit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      events: true,\n      users: false,\n      user: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89\n      },\n      __self: this\n    }), React.createElement(Header, {\n      user: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"eventsEdit__info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"eventsEdit__info__titule\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 92\n      },\n      __self: this\n    }, \"Eventos actuales\"), this.state.canEdit ? React.createElement(Button, {\n      className: \"eventsEdit__info__img\",\n      onClick: this.onClick.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      alt: \"Agregar Evento\",\n      src: addImg,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95\n      },\n      __self: this\n    })) : React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"eventsEdit__info__events\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98\n      },\n      __self: this\n    }, this.state.events.map(items => React.createElement(Event, {\n      event: items,\n      onSelect: this.onSelect.bind(this),\n      onEdit: this.onEditEvent.bind(this),\n      admin: this.state.canEdit,\n      asisten: this.state.asisten,\n      onGetEvents: this.onGetEvents.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    })))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default EditEvent;","map":{"version":3,"sources":["/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/src/components/EditEvent/EditEvent.js"],"names":["React","Button","addImg","Event","Footer","Header","EventSelected","getEvents","getEvent","PublicEvents","Menu","EditEvent","Component","constructor","props","state","events","event","user","location","asisten","componentDidMount","onGetEvents","Rol","setState","canEdit","onSelect","data","ID_evento","response","content","error","onEditEvent","edit","eventEdit","onClick","render","bind","map","items"],"mappings":"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","sourcesContent":["/**\n * Filename: HomePage.js\n * Author: email\n * Date: \n * Description: Home page component \n */\nimport React from 'react';\nimport './styles.scss';\nimport { Button } from 'semantic-ui-react';\n\nimport addImg from './../../assets/img/add.png';\nimport Event from '../Event/index';\nimport Footer from '../Footer/index';\nimport Header from '../Header/index';\nimport EventSelected from '../EventSelected/index';\nimport { getEvents, getEvent } from '../../API/api-calls';\nimport PublicEvents from '../PublicEvents/index';\nimport Menu from '../Menu/index';\n\n\nclass EditEvent extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      events: [],\n      event:null,\n      user: this.props.location.state.user,\n      asisten:false,\n    }\n  }\n\n  componentDidMount(){\n    this.onGetEvents();\n    if (this.state.user.Rol === 'Administrador') {\n      this.setState({canEdit:true});\n    }\n    if (this.state.user.Rol === 'Asistente') {\n      this.setState({asisten:true})\n    }\n  }\n\n  onSelect(data){\n    if (data !== null) {\n      getEvent(\n        data.ID_evento,\n        response => {\n          if (response.data) {\n            this.setState({event:response.data.content[0]});\n          }\n        },\n        error => {\n          //TODO\n        }\n      );\n    }\n  }\n\n  onGetEvents(){\n    getEvents(\n      response => {\n        if (response.data) {\n          this.setState({events:response.data.content});\n        }\n      },\n      error => {\n        //TODO\n      }\n    );\n  }\n\n  \n  onEditEvent(data){\n    this.setState({edit:true, eventEdit: data})\n  }\n\n  onClick(){\n    this.setState({edit:true})\n  }\n\n  render() {\n    return (\n      this.state.event ? (\n        <EventSelected event={this.state.event} user={this.state.user}></EventSelected>\n      ) : (\n        this.state.edit ? (\n          <PublicEvents event={this.state.eventEdit} user={this.state.user}></PublicEvents>\n        ) : (\n          <div className=\"eventsEdit\">\n            <Menu events={true} users={false} user={this.state.user}/>\n            <Header user={this.state.user}/>\n            <div className=\"eventsEdit__info\">\n              <p className='eventsEdit__info__titule'>Eventos actuales</p>\n              {this.state.canEdit ?\n              (\n                <Button className='eventsEdit__info__img' onClick={this.onClick.bind(this)}><img alt='Agregar Evento' src={addImg}/></Button>\n              )\n              : (<div></div>)}\n              <div className='eventsEdit__info__events'>\n                {this.state.events.map( (items) => (\n                  <Event event={items} onSelect={this.onSelect.bind(this)} onEdit={this.onEditEvent.bind(this)} admin={this.state.canEdit} asisten={this.state.asisten} onGetEvents={this.onGetEvents.bind(this)}></Event>\n                ))}\n              </div>\n            </div>\n            <Footer/>\n          </div>\n        )\n      )\n    )\n  }\n}\n\nexport default (EditEvent);"]},"metadata":{},"sourceType":"module"}