{"ast":null,"code":"import _objectSpread from \"/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/src/components/User/addUser/addUser.js\";\n\n/**\n * Filename: principal.js\n * Author: kristalduran97@gmail.com\n * Date: 15/12/2019\n * Description: Principal\n */\nimport React from 'react';\nimport './styles.scss';\nimport { Button } from 'semantic-ui-react';\nimport Header from '../../Header/index';\nimport Footer from '../../Footer/index';\nimport Menu from '../../Menu/index';\nimport { addUser, editUser, deleteUser } from '../../../API/api-calls';\n\nclass AddUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      edit: this.props.user,\n      user: this.props.user || {},\n      adminRol: false,\n      clientRol: false,\n      asistentRol: false\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.user.Rol === 'Administrador') {\n      this.setState({\n        adminRol: true\n      });\n    } else if (this.state.user.Rol === 'Cliente') {\n      this.setState({\n        clientRol: true\n      });\n    } else if (this.state.user.Rol === 'Asistente') {\n      this.setState({\n        asistentRol: true\n      });\n    }\n  }\n\n  onChangeName(e) {\n    const user = _objectSpread({}, this.state.user, {\n      Nombre: e.currentTarget.value\n    });\n\n    this.setState({\n      user\n    });\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeUserName(e) {\n    const user = _objectSpread({}, this.state.user, {\n      NombreUsuario: e.currentTarget.value\n    });\n\n    this.setState({\n      user\n    });\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeEmail(e) {\n    const user = _objectSpread({}, this.state.user, {\n      Correo: e.currentTarget.value\n    });\n\n    this.setState({\n      user\n    });\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeRol(e) {\n    let rol = '';\n\n    if (e.target.selectedIndex === 0) {\n      rol = 'Administrador';\n      this.setState({\n        adminRol: true\n      });\n    }\n\n    if (e.target.selectedIndex === 1) {\n      rol = 'Cliente';\n      this.setState({\n        clientRol: true\n      });\n    }\n\n    if (e.target.selectedIndex === 2) {\n      rol = 'Asistente';\n      this.setState({\n        asistentRol: true\n      });\n    }\n\n    const user = _objectSpread({}, this.state.user, {\n      Rol: rol\n    });\n\n    this.setState({\n      user\n    });\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangePassword(e) {\n    const user = _objectSpread({}, this.state.user, {\n      Contrasena: e.currentTarget.value\n    });\n\n    this.setState({\n      user\n    });\n  }\n\n  onChangeConfirmPassword(e) {\n    const user = _objectSpread({}, this.state.user, {\n      confirmPassword: e.currentTarget.value\n    });\n\n    this.setState({\n      user\n    });\n  }\n\n  onSave() {\n    if (this.state.user.Contrasena === this.state.user.confirmPassword) {\n      addUser(this.state.user, response => {\n        if (response.data) {\n          this.setState({\n            edit: false\n          });\n        }\n      }, error => {//TODO\n      });\n    }\n  }\n\n  onChangeUser() {\n    editUser(this.state.user, response => {\n      if (response.data) {\n        this.setState({\n          edit: false\n        });\n      }\n    }, error => {//TODO\n    });\n  }\n\n  onDeleteUser() {\n    deleteUser(this.state.user.ID_usuario, response => {\n      if (response.data) {\n        this.setState({\n          edit: false\n        });\n      }\n    }, error => {//TODO\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 129\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      events: false,\n      users: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 130\n      },\n      __self: this\n    }), React.createElement(Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"user__info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 132\n      },\n      __self: this\n    }, this.state.edit ? React.createElement(\"p\", {\n      className: \"user__info__titule\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 134\n      },\n      __self: this\n    }, \"Editar Usuario\") : React.createElement(\"p\", {\n      className: \"user__info__titule\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135\n      },\n      __self: this\n    }, \"Registrar de Usuario\"), React.createElement(\"input\", {\n      className: \"user__info__input\",\n      placeholder: \"Nombre Completo\",\n      value: this.state.user.Nombre || '',\n      onChange: this.onChangeName.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"user__info__input\",\n      placeholder: \"Nombre de usuario\",\n      value: this.state.user.NombreUsuario || '',\n      onChange: this.onChangeUserName.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"user__info__input\",\n      placeholder: \"Correo Electr\\xF3nico\",\n      value: this.state.user.Correo || '',\n      onChange: this.onChangeEmail.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      className: \"user__info__input\",\n      onChange: this.onChangeRol.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"admin\",\n      selected: this.state.adminRol,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, \"Administrador\"), React.createElement(\"option\", {\n      value: \"client\",\n      selected: this.state.clientRol,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }, \"Cliente\"), React.createElement(\"option\", {\n      value: \"asistent\",\n      selected: this.state.asistentRol,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }, \"Asistente\")), this.state.edit ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"user__info__password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"user__info__input\",\n      placeholder: \"Contrase\\xF1a\",\n      type: \"password\",\n      onChange: this.onChangePassword.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"user__info__input\",\n      placeholder: \"Confirmar Contrase\\xF1a\",\n      type: \"password\",\n      onChange: this.onChangeConfirmPassword.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"user__info__buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, this.state.edit ? React.createElement(\"div\", {\n      className: \"user__info__buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, React.createElement(Button, {\n      className: \"user__info__buttons__button\",\n      onClick: this.onChangeUser.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, \"Guardar Cambios\"), React.createElement(Button, {\n      className: \"user__info__buttons__button\",\n      onClick: this.onDeleteUser.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }, \"Eliminar Usuario\")) : React.createElement(Button, {\n      className: \"user__info__buttons__button\",\n      onClick: this.onSave.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, \"Registrar\"), React.createElement(Button, {\n      href: \"/getUsers\",\n      className: \"user__info__buttons__button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }, \"Cancelar\"))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default AddUser;","map":{"version":3,"sources":["/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/src/components/User/addUser/addUser.js"],"names":["React","Button","Header","Footer","Menu","addUser","editUser","deleteUser","AddUser","Component","constructor","props","state","edit","user","adminRol","clientRol","asistentRol","componentDidMount","Rol","setState","onChangeName","e","Nombre","currentTarget","value","onChangeUserName","NombreUsuario","onChangeEmail","Correo","onChangeRol","rol","target","selectedIndex","onChangePassword","Contrasena","onChangeConfirmPassword","confirmPassword","onSave","response","data","error","onChangeUser","onDeleteUser","ID_usuario","render","bind"],"mappings":"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","sourcesContent":["/**\n * Filename: principal.js\n * Author: kristalduran97@gmail.com\n * Date: 15/12/2019\n * Description: Principal\n */\nimport React from 'react';\nimport './styles.scss';\nimport { Button } from 'semantic-ui-react';\nimport Header from '../../Header/index';\nimport Footer from '../../Footer/index';\nimport Menu from '../../Menu/index';\nimport { addUser, editUser, deleteUser } from '../../../API/api-calls';\n\nclass AddUser extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      edit: this.props.user,\n      user: this.props.user || {},\n      adminRol:false,\n      clientRol:false,\n      asistentRol:false\n    }\n  }\n\n  componentDidMount(){\n    if (this.state.user.Rol === 'Administrador') {\n      this.setState({ adminRol:true})\n    }else\n    if (this.state.user.Rol === 'Cliente') {\n      this.setState({ clientRol:true})\n    }else\n    if (this.state.user.Rol === 'Asistente') {\n      this.setState({ asistentRol:true})\n    }\n  }\n\n  onChangeName(e){\n    const user = { ... this.state.user, Nombre: e.currentTarget.value};\n    this.setState({user});\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeUserName(e){\n    const user = { ... this.state.user, NombreUsuario: e.currentTarget.value};\n    this.setState({user});\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeEmail(e){\n    const user = { ... this.state.user, Correo: e.currentTarget.value};\n    this.setState({user});\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeRol(e){\n    let rol = ''\n    if (e.target.selectedIndex === 0) {\n      rol = 'Administrador'\n      this.setState({ adminRol:true})\n    }\n    if (e.target.selectedIndex === 1) {\n      rol = 'Cliente'\n      this.setState({ clientRol:true})\n    }\n    if (e.target.selectedIndex === 2) {\n      rol = 'Asistente'\n      this.setState({ asistentRol:true})\n    }\n    const user = { ... this.state.user, Rol: rol};\n    this.setState({user});\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangePassword(e){\n    const user = { ... this.state.user, Contrasena: e.currentTarget.value};\n    this.setState({user});\n  }\n\n  onChangeConfirmPassword(e){\n    const user = { ... this.state.user, confirmPassword: e.currentTarget.value};\n    this.setState({user});\n  }\n\n  onSave(){\n    if (this.state.user.Contrasena === this.state.user.confirmPassword) {\n      addUser(this.state.user,\n        response => {\n          if (response.data) {\n            this.setState({edit:false});\n          }\n        },\n        error => {\n          //TODO\n        }\n      );\n    }\n  }\n\n  onChangeUser(){\n    editUser(this.state.user,\n      response => {\n        if (response.data) {\n          this.setState({edit:false});\n        }\n      },\n      error => {\n        //TODO\n      }\n    );\n  }\n\n  onDeleteUser(){\n    deleteUser(this.state.user.ID_usuario,\n      response => {\n        if (response.data) {\n          this.setState({edit:false});\n        }\n      },\n      error => {\n        //TODO\n      }\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"user\">\n        <Menu events={false} users={true}/>\n        <Header/>\n        <div className=\"user__info\">\n          {this.state.edit ? \n            (<p className='user__info__titule'>Editar Usuario</p>) :\n            (<p className='user__info__titule'>Registrar de Usuario</p>)\n          }\n          <input className=\"user__info__input\" placeholder='Nombre Completo' value={this.state.user.Nombre || ''} onChange={this.onChangeName.bind(this)}></input>\n          <input className=\"user__info__input\" placeholder='Nombre de usuario' value={this.state.user.NombreUsuario || ''} onChange={this.onChangeUserName.bind(this)}></input>\n          <input className=\"user__info__input\" placeholder='Correo Electrónico' value={this.state.user.Correo || ''} onChange={this.onChangeEmail.bind(this)}></input>\n          <select className=\"user__info__input\" onChange={this.onChangeRol.bind(this)}>\n            <option value=\"admin\" selected={this.state.adminRol}>Administrador</option>\n            <option value=\"client\" selected={this.state.clientRol}>Cliente</option>\n            <option value=\"asistent\" selected={this.state.asistentRol}>Asistente</option>\n          </select>\n          {/* <input className=\"user__info__input\" placeholder='Rol' value={this.state.user.Rol || ''} onChange={this.onChangeRol.bind(this)}></input> */}\n          {this.state.edit ? \n            (<div></div>) :\n            (<div className=\"user__info__password\">\n              <input className=\"user__info__input\" placeholder='Contraseña' type=\"password\" onChange={this.onChangePassword.bind(this)}></input>\n              <input className=\"user__info__input\" placeholder='Confirmar Contraseña' type=\"password\" onChange={this.onChangeConfirmPassword.bind(this)}></input>\n            </div>)\n          }\n          <div className='user__info__buttons'>\n            {this.state.edit ? \n              (<div className='user__info__buttons'>\n                <Button className='user__info__buttons__button' onClick={this.onChangeUser.bind(this)}>Guardar Cambios</Button>\n                <Button className='user__info__buttons__button' onClick={this.onDeleteUser.bind(this)}>Eliminar Usuario</Button>\n              </div>) :\n              (<Button className='user__info__buttons__button' onClick={this.onSave.bind(this)}>Registrar</Button>)\n            }\n            <Button href='/getUsers' className='user__info__buttons__button'>Cancelar</Button>\n          </div>\n        </div>\n        <Footer/>\n      </div>\n    )\n  }\n}\n\nexport default AddUser;"]},"metadata":{},"sourceType":"module"}