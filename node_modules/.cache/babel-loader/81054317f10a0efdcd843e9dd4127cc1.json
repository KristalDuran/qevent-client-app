{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nvar _typeof = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === 'function' && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nvar interpolateParams = function interpolateParams(text, params) {\n  if (!params) {\n    return text;\n  }\n\n  var children = text.split(/({[^}]+})/g).map(function (child) {\n    var match = /{(.+)}/g.exec(child);\n\n    if (match) {\n      var param = params[match[1]];\n      return param ? param : String(param);\n    }\n\n    return child;\n  });\n  return children.some(function (child) {\n    return child && (typeof child === 'undefined' ? 'undefined' : _typeof(child)) === 'object';\n  }) ? _react2.default.createElement.apply(_react2.default, ['span', null].concat(_toConsumableArray(children))) : children.join('');\n};\n\nvar getLangMessages = function getLangMessages(translations, lang) {\n  var langMessages = translations[lang];\n\n  if (langMessages === undefined && lang.indexOf('-') > -1) {\n    langMessages = translations[lang.split('-')[0]];\n  }\n\n  return langMessages;\n};\n\nvar getOptionValue = function getOptionValue(options, key, defaultValue) {\n  if (options === undefined) {\n    return defaultValue || null;\n  }\n\n  return options[key] === undefined ? defaultValue || null : options[key];\n};\n\nexports.default = function (translations, lang, fallbackLang) {\n  var langMessages = getLangMessages(translations, lang);\n  var fallbackLangMessages = fallbackLang ? getLangMessages(translations, fallbackLang) : undefined;\n  var plural_rule = getOptionValue(translations.options, 'plural_rule', 'n != 1');\n  var plural_number = parseInt(getOptionValue(translations.options, 'plural_number', '2'), 10);\n  var suppress_warnings = getOptionValue(translations.options, 'suppress_warnings', false);\n  return function (textKey, params, comment) {\n    if ((typeof textKey === 'undefined' ? 'undefined' : _typeof(textKey)) === 'object') {\n      textKey = textKey[Number(new Function('n', 'return ' + plural_rule)(params[textKey[plural_number]]))];\n    }\n\n    if (!langMessages && !fallbackLangMessages) {\n      return interpolateParams(textKey, params);\n    }\n\n    var message = langMessages ? langMessages[textKey] : undefined;\n\n    if (message === undefined || message === '') {\n      if (!suppress_warnings) {\n        console.warn('Missing translation for id ' + textKey + ' in language ' + lang);\n      }\n\n      if (fallbackLangMessages) {\n        var literal = fallbackLangMessages[textKey];\n\n        if (literal !== undefined && literal !== '') {\n          return interpolateParams(literal, params);\n        }\n      }\n\n      return interpolateParams(textKey, params);\n    }\n\n    return interpolateParams(message, params);\n  };\n};","map":null,"metadata":{},"sourceType":"script"}