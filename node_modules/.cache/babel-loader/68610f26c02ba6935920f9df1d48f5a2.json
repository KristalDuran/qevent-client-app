{"ast":null,"code":"import _objectSpread from \"/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";\nvar _jsxFileName = \"/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/src/components/User/addUser/addUser.js\";\n\n/**\n * Filename: principal.js\n * Author: kristalduran97@gmail.com\n * Date: 15/12/2019\n * Description: Principal\n */\nimport React from 'react';\nimport './styles.scss';\nimport { Button } from 'semantic-ui-react';\nimport Header from '../../Header/index';\nimport Footer from '../../Footer/index';\nimport Menu from '../../Menu/index';\nimport { addUser, editUser, deleteUser } from '../../../API/api-calls';\n\nclass AddUser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      edit: this.props.user,\n      user: this.props.user || {},\n      adminRol: false,\n      clientRol: false,\n      asistentRol: false,\n      userLogged: this.props.userLogged\n    };\n  }\n\n  componentDidMount() {\n    if (this.state.user.Rol === 'Administrador') {\n      this.setState({\n        adminRol: true\n      });\n    } else if (this.state.user.Rol === 'Cliente') {\n      this.setState({\n        clientRol: true\n      });\n    } else if (this.state.user.Rol === 'Asistente') {\n      this.setState({\n        asistentRol: true\n      });\n    }\n\n    if (this.props.location) {\n      this.setState({\n        userLogged: this.props.location.state.userLogged\n      });\n    }\n  }\n\n  onChangeName(e) {\n    const user = _objectSpread({}, this.state.user, {\n      Nombre: e.currentTarget.value\n    });\n\n    this.setState({\n      user\n    });\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeUserName(e) {\n    const user = _objectSpread({}, this.state.user, {\n      NombreUsuario: e.currentTarget.value\n    });\n\n    this.setState({\n      user\n    });\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeEmail(e) {\n    const user = _objectSpread({}, this.state.user, {\n      Correo: e.currentTarget.value\n    });\n\n    this.setState({\n      user\n    });\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeRol(e) {\n    let rol = '';\n\n    if (e.target.selectedIndex === 0) {\n      rol = 'Administrador';\n      this.setState({\n        adminRol: true\n      });\n    }\n\n    if (e.target.selectedIndex === 1) {\n      rol = 'Cliente';\n      this.setState({\n        clientRol: true\n      });\n    }\n\n    if (e.target.selectedIndex === 2) {\n      rol = 'Asistente';\n      this.setState({\n        asistentRol: true\n      });\n    }\n\n    const user = _objectSpread({}, this.state.user, {\n      Rol: rol\n    });\n\n    this.setState({\n      user\n    });\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangePassword(e) {\n    const user = _objectSpread({}, this.state.user, {\n      Contrasena: e.currentTarget.value\n    });\n\n    this.setState({\n      user\n    });\n  }\n\n  onChangeConfirmPassword(e) {\n    const user = _objectSpread({}, this.state.user, {\n      confirmPassword: e.currentTarget.value\n    });\n\n    this.setState({\n      user\n    });\n  }\n\n  onSave() {\n    console.log('save');\n\n    if (this.state.user.Contrasena === this.state.user.confirmPassword) {\n      console.log('igual');\n      addUser(this.state.user, response => {\n        console.log(response);\n\n        if (response.data) {\n          this.setState({\n            edit: false\n          });\n          console.log('aqui');\n          this.props.onBack();\n        }\n      }, error => {//TODO\n      });\n    }\n  }\n\n  onChangeUser() {\n    editUser(this.state.user, response => {\n      if (response.data) {\n        this.setState({\n          edit: false\n        });\n        this.props.onBack();\n      }\n    }, error => {//TODO\n    });\n  }\n\n  onDeleteUser() {\n    deleteUser(this.state.user.ID_usuario, response => {\n      if (response.data) {\n        this.setState({\n          edit: false\n        });\n        this.props.onBack();\n      }\n    }, error => {//TODO\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"user\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141\n      },\n      __self: this\n    }, React.createElement(Menu, {\n      events: false,\n      users: true,\n      user: this.state.userLogged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 142\n      },\n      __self: this\n    }), React.createElement(Header, {\n      user: this.state.userLogged,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 143\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"user__info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, this.state.edit ? React.createElement(\"p\", {\n      className: \"user__info__titule\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, \"Editar Usuario\") : React.createElement(\"p\", {\n      className: \"user__info__titule\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Registrar de Usuario\"), React.createElement(\"input\", {\n      className: \"user__info__input\",\n      placeholder: \"Nombre Completo\",\n      value: this.state.user.Nombre || '',\n      onChange: this.onChangeName.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 149\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"user__info__input\",\n      placeholder: \"Nombre de usuario\",\n      value: this.state.user.NombreUsuario || '',\n      onChange: this.onChangeUserName.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"user__info__input\",\n      placeholder: \"Correo Electr\\xF3nico\",\n      value: this.state.user.Correo || '',\n      onChange: this.onChangeEmail.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }), React.createElement(\"select\", {\n      className: \"user__info__input\",\n      onChange: this.onChangeRol.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"admin\",\n      selected: this.state.adminRol,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, \"Administrador\"), React.createElement(\"option\", {\n      value: \"client\",\n      selected: this.state.clientRol,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }, \"Cliente\"), React.createElement(\"option\", {\n      value: \"asistent\",\n      selected: this.state.asistentRol,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    }, \"Asistente\")), this.state.edit ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"user__info__password\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"user__info__input\",\n      placeholder: \"Contrase\\xF1a\",\n      type: \"password\",\n      onChange: this.onChangePassword.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"user__info__input\",\n      placeholder: \"Confirmar Contrase\\xF1a\",\n      type: \"password\",\n      onChange: this.onChangeConfirmPassword.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"user__info__buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, this.state.edit ? React.createElement(\"div\", {\n      className: \"user__info__buttons\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }, React.createElement(Button, {\n      href: \"/getUsers\",\n      className: \"user__info__buttons__button\",\n      onClick: this.onChangeUser.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Guardar Cambios\"), React.createElement(Button, {\n      href: \"/getUsers\",\n      className: \"user__info__buttons__button\",\n      onClick: this.onDeleteUser.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, \"Eliminar Usuario\")) : React.createElement(Button, {\n      href: \"/getUsers\",\n      className: \"user__info__buttons__button\",\n      onClick: this.onSave.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, \"Registrar\"), React.createElement(Button, {\n      href: \"/getUsers\",\n      className: \"user__info__buttons__button\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, \"Cancelar\"))), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default AddUser;","map":{"version":3,"sources":["/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/src/components/User/addUser/addUser.js"],"names":["React","Button","Header","Footer","Menu","addUser","editUser","deleteUser","AddUser","Component","constructor","props","state","edit","user","adminRol","clientRol","asistentRol","userLogged","componentDidMount","Rol","setState","location","onChangeName","e","Nombre","currentTarget","value","onChangeUserName","NombreUsuario","onChangeEmail","Correo","onChangeRol","rol","target","selectedIndex","onChangePassword","Contrasena","onChangeConfirmPassword","confirmPassword","onSave","console","log","response","data","onBack","error","onChangeUser","onDeleteUser","ID_usuario","render","bind"],"mappings":"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","sourcesContent":["/**\n * Filename: principal.js\n * Author: kristalduran97@gmail.com\n * Date: 15/12/2019\n * Description: Principal\n */\nimport React from 'react';\nimport './styles.scss';\nimport { Button } from 'semantic-ui-react';\nimport Header from '../../Header/index';\nimport Footer from '../../Footer/index';\nimport Menu from '../../Menu/index';\nimport { addUser, editUser, deleteUser } from '../../../API/api-calls';\n\nclass AddUser extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      edit: this.props.user,\n      user: this.props.user || {},\n      adminRol:false,\n      clientRol:false,\n      asistentRol:false,\n      userLogged: this.props.userLogged\n    }\n  }\n\n  componentDidMount(){\n    if (this.state.user.Rol === 'Administrador') {\n      this.setState({ adminRol:true})\n    }else\n    if (this.state.user.Rol === 'Cliente') {\n      this.setState({ clientRol:true})\n    }else\n    if (this.state.user.Rol === 'Asistente') {\n      this.setState({ asistentRol:true})\n    }\n\n    if (this.props.location) {\n      this.setState({userLogged: this.props.location.state.userLogged})\n    }\n  }\n\n  onChangeName(e){\n    const user = { ...this.state.user, Nombre:e.currentTarget.value };\n    this.setState({user});\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeUserName(e){\n    const user = { ... this.state.user, NombreUsuario:e.currentTarget.value };\n    this.setState({user});\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeEmail(e){\n    const user = { ... this.state.user, Correo:e.currentTarget.value };\n    this.setState({user});\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangeRol(e){\n    let rol = ''\n    if (e.target.selectedIndex === 0) {\n      rol = 'Administrador'\n      this.setState({ adminRol:true})\n    }\n    if (e.target.selectedIndex === 1) {\n      rol = 'Cliente'\n      this.setState({ clientRol:true})\n    }\n    if (e.target.selectedIndex === 2) {\n      rol = 'Asistente'\n      this.setState({ asistentRol:true})\n    }\n    const user = { ... this.state.user, Rol: rol };\n    this.setState({user});\n    e.currentTarget.value = this.state.user;\n  }\n\n  onChangePassword(e){\n    const user = { ... this.state.user, Contrasena:e.currentTarget.value };\n    this.setState({user});\n  }\n\n  onChangeConfirmPassword(e){\n    const user = { ... this.state.user, confirmPassword:e.currentTarget.value };\n    this.setState({user});\n  }\n\n  onSave(){\n    console.log('save')\n    if (this.state.user.Contrasena === this.state.user.confirmPassword) {\n      console.log('igual')\n      addUser(this.state.user,\n        response => {\n          console.log(response)\n          if (response.data) {\n            this.setState({edit:false});\n            console.log('aqui')\n            this.props.onBack();\n          }\n        },\n        error => {\n          //TODO\n        }\n      );\n    }\n  }\n\n  onChangeUser(){\n    editUser(this.state.user,\n      response => {\n        if (response.data) {\n          this.setState({edit:false});\n          this.props.onBack();\n        }\n      },\n      error => {\n        //TODO\n      }\n    );\n  }\n\n  onDeleteUser(){\n    deleteUser(this.state.user.ID_usuario,\n      response => {\n        if (response.data) {\n          this.setState({edit:false});\n          this.props.onBack();\n        }\n      },\n      error => {\n        //TODO\n      }\n    );\n  }\n\n  render() {\n    return (\n      <div className=\"user\">\n        <Menu events={false} users={true} user={this.state.userLogged}/>\n        <Header user={this.state.userLogged}/>\n        <div className=\"user__info\">\n          {this.state.edit ? \n            (<p className='user__info__titule'>Editar Usuario</p>) :\n            (<p className='user__info__titule'>Registrar de Usuario</p>)\n          }\n          <input className=\"user__info__input\" placeholder='Nombre Completo' value={this.state.user.Nombre || ''} onChange={this.onChangeName.bind(this)}></input>\n          <input className=\"user__info__input\" placeholder='Nombre de usuario' value={this.state.user.NombreUsuario || ''} onChange={this.onChangeUserName.bind(this)}></input>\n          <input className=\"user__info__input\" placeholder='Correo Electrónico' value={this.state.user.Correo || ''} onChange={this.onChangeEmail.bind(this)}></input>\n          <select className=\"user__info__input\" onChange={this.onChangeRol.bind(this)}>\n            <option value=\"admin\" selected={this.state.adminRol}>Administrador</option>\n            <option value=\"client\" selected={this.state.clientRol}>Cliente</option>\n            <option value=\"asistent\" selected={this.state.asistentRol}>Asistente</option>\n          </select>\n          {/* <input className=\"user__info__input\" placeholder='Rol' value={this.state.user.Rol || ''} onChange={this.onChangeRol.bind(this)}></input> */}\n          {this.state.edit ? \n            (<div></div>) :\n            (<div className=\"user__info__password\">\n              <input className=\"user__info__input\" placeholder='Contraseña' type=\"password\" onChange={this.onChangePassword.bind(this)}></input>\n              <input className=\"user__info__input\" placeholder='Confirmar Contraseña' type=\"password\" onChange={this.onChangeConfirmPassword.bind(this)}></input>\n            </div>)\n          }\n          <div className='user__info__buttons'>\n            {this.state.edit ? \n              (<div className='user__info__buttons'>\n                <Button href='/getUsers' className='user__info__buttons__button' onClick={this.onChangeUser.bind(this)}>Guardar Cambios</Button>\n                <Button href='/getUsers' className='user__info__buttons__button' onClick={this.onDeleteUser.bind(this)}>Eliminar Usuario</Button>\n              </div>) :\n              (<Button href='/getUsers' className='user__info__buttons__button' onClick={this.onSave.bind(this)}>Registrar</Button>)\n            }\n            <Button href='/getUsers' className='user__info__buttons__button'>Cancelar</Button>\n          </div>\n        </div>\n        <Footer/>\n      </div>\n    )\n  }\n}\n\nexport default AddUser;"]},"metadata":{},"sourceType":"module"}