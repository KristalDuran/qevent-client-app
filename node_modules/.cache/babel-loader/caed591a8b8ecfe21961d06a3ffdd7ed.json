{"ast":null,"code":"var _jsxFileName = \"/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/src/components/Events/Events.js\";\n\n/**\n * Filename: HomePage.js\n * Author: email\n * Date: \n * Description: Home page component \n */\nimport React from 'react';\nimport './styles.scss';\nimport background from './../../assets/img/backgroundEvent.png';\nimport Event from '../Event/index';\nimport Footer from '../Footer/index';\nimport Header from '../Header/index';\nimport EventSelected from '../EventSelected/index';\nimport { getEvents, getEvent, getEventFilter } from '../../API/api-calls';\n\nclass Events extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      events: [],\n      eventEdit: null,\n      edit: false,\n      event: null,\n      user: this.props.user,\n      isClient: false\n    };\n  }\n\n  onSelect(data) {\n    if (data !== null) {\n      getEvent(data.ID_evento, response => {\n        if (response.data) {\n          this.setState({\n            event: response.data.content[0]\n          });\n        }\n      }, error => {//TODO\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.onGetEvents();\n\n    if (this.props.location) {\n      if (this.props.location.state) {\n        if (this.props.location.state.user) {\n          this.setState({\n            user: this.props.location.state.user\n          });\n        }\n      }\n    } else {\n      if (this.state.user) {\n        if (this.state.user.Rol === 'Cliente') {\n          this.setState({\n            isClient: true\n          });\n        }\n\n        if (this.state.user.Rol === 'Asistente') {\n          this.setState({\n            asisten: true\n          });\n        }\n      }\n    }\n  }\n\n  onGetEvents() {\n    getEvents(response => {\n      if (response.data) {\n        this.setState({\n          events: response.data.content\n        });\n      }\n    }, error => {//TODO\n    });\n  }\n\n  onChange(event) {\n    if (event.target.value === '') {\n      this.onGetEvents();\n    } else {\n      getEventFilter(event.target.value, response => {\n        if (response.data) {\n          this.setState({\n            events: response.data.content\n          });\n        }\n      }, error => {//TODO\n      });\n    }\n  }\n\n  render() {\n    return this.state.event ? React.createElement(EventSelected, {\n      event: this.state.event,\n      user: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100\n      },\n      __self: this\n    }) : React.createElement(\"div\", {\n      className: \"events\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 102\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"events__info\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 103\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      className: \"events__info__background\",\n      alt: \"Atras\",\n      src: background,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"events__info__search\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      className: \"events__info__search__input\",\n      placeholder: \"Lugar del evento\",\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"events__info__search__input\",\n      placeholder: \"Fecha del evento\",\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"events__info__search__input\",\n      placeholder: \"Nombre del evento\",\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      className: \"events__info__search__input\",\n      placeholder: \"Tipo de evento\",\n      onChange: this.onChange.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109\n      },\n      __self: this\n    })), React.createElement(\"p\", {\n      className: \"events__info__titule\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 111\n      },\n      __self: this\n    }, \"Eventos\"), React.createElement(\"div\", {\n      className: \"events__info__eventsList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 112\n      },\n      __self: this\n    }, this.state.events.map(event => (this.state.isClient || !this.state.user) && event.EPublico ? React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 115\n      },\n      __self: this\n    }) : React.createElement(Event, {\n      event: event,\n      onSelect: this.onSelect.bind(this),\n      admin: false,\n      asisten: false,\n      user: this.state.user,\n      onGetEvents: this.onGetEvents.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 116\n      },\n      __self: this\n    })))), React.createElement(Header, {\n      user: this.state.user,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 120\n      },\n      __self: this\n    }), React.createElement(Footer, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121\n      },\n      __self: this\n    }));\n  }\n\n}\n\nexport default Events;","map":{"version":3,"sources":["/Users/kristalduran/Documents/Kris/GestionActividades/qevent-client-app/src/components/Events/Events.js"],"names":["React","background","Event","Footer","Header","EventSelected","getEvents","getEvent","getEventFilter","Events","Component","constructor","props","state","events","eventEdit","edit","event","user","isClient","onSelect","data","ID_evento","response","setState","content","error","componentDidMount","onGetEvents","location","Rol","asisten","onChange","target","value","render","bind","map","EPublico"],"mappings":"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","sourcesContent":["/**\n * Filename: HomePage.js\n * Author: email\n * Date: \n * Description: Home page component \n */\nimport React from 'react';\nimport './styles.scss';\n\nimport background from './../../assets/img/backgroundEvent.png';\nimport Event from '../Event/index';\nimport Footer from '../Footer/index';\nimport Header from '../Header/index';\nimport EventSelected from '../EventSelected/index';\nimport { getEvents, getEvent, getEventFilter } from '../../API/api-calls';\n\nclass Events extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      events: [],\n      eventEdit: null,\n      edit:false,\n      event:null,\n      user: this.props.user,\n      isClient: false\n    }\n  }\n\n  onSelect(data){\n    if (data !== null) {\n      getEvent(\n        data.ID_evento,\n        response => {\n          if (response.data) {\n            this.setState({event:response.data.content[0]});\n          }\n        },\n        error => {\n          //TODO\n        }\n      );\n    }\n  }\n\ncomponentDidMount(){\n  this.onGetEvents();\n  if (this.props.location) {\n    if (this.props.location.state) {\n      if (this.props.location.state.user) {\n        this.setState({user:this.props.location.state.user})\n      }\n    } \n  }else{\n    if (this.state.user) {\n      if (this.state.user.Rol === 'Cliente') {\n        this.setState({isClient:true})\n      }\n      if (this.state.user.Rol === 'Asistente') {\n        this.setState({asisten:true})\n      }\n    }\n  }\n}\n\n  onGetEvents(){\n    getEvents(\n      response => {\n        if (response.data) {\n          this.setState({events:response.data.content});\n        }\n      },\n      error => {\n        //TODO\n      }\n    );\n  }\n\n  onChange(event){\n    if (event.target.value === '') {\n      this.onGetEvents();\n    }else{\n      getEventFilter(\n        event.target.value,\n        response => {\n          if (response.data) {\n            this.setState({events:response.data.content});\n          }\n        },\n        error => {\n          //TODO\n        }\n      );\n    }\n  }\n\n  render() {\n    return (\n      this.state.event ? (\n        <EventSelected event={this.state.event} user={this.state.user}></EventSelected>\n      ) : (\n      <div className=\"events\">\n        <div className=\"events__info\">\n          <img className=\"events__info__background\" alt='Atras' src={background}/>\n          <div className=\"events__info__search\">\n            <input className=\"events__info__search__input\" placeholder='Lugar del evento' onChange={this.onChange.bind(this)}></input>\n            <input className=\"events__info__search__input\" placeholder='Fecha del evento' onChange={this.onChange.bind(this)}></input>\n            <input className=\"events__info__search__input\" placeholder='Nombre del evento' onChange={this.onChange.bind(this)}></input>\n            <input className=\"events__info__search__input\" placeholder='Tipo de evento' onChange={this.onChange.bind(this)}></input>\n          </div>\n          <p className=\"events__info__titule\">Eventos</p>\n          <div className=\"events__info__eventsList\">\n            {this.state.events.map((event) => (\n              (this.state.isClient || !this.state.user) && event.EPublico ?\n              (<div></div>):\n              (<Event event={event} onSelect={this.onSelect.bind(this)} admin={false} asisten={false} user={this.state.user} onGetEvents={this.onGetEvents.bind(this)}></Event>)\n            ))}\n          </div>\n        </div>\n        <Header user={this.state.user}></Header>\n        <Footer></Footer>\n      </div>\n        \n      )\n    )\n  }\n}\n\nexport default (Events);"]},"metadata":{},"sourceType":"module"}